"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./_rollupPluginBabelHelpers-7d3a169b.js"),i=function(){function e(){this.invokerHookId=void 0}var i=e.prototype;return i.onFilesSelected=function(e){},i.onFilesSuccessfullySelected=function(e){},i.onFilesRejected=function(e){},i.onClear=function(){},i.onFileRemoved=function(e,i){},e}(),r=function(i){function r(e){var r;return(r=i.call(this)||this).limitAmountOfFilesConfig=void 0,r.limitAmountOfFilesConfig=e,r}e._inheritsLoose(r,i);var n=r.prototype;return n.validateBeforeParsing=function(e,i){var r=this.limitAmountOfFilesConfig,n=r.min,t=r.max;return t&&i.length>t?Promise.reject({name:"FileAmountLimitError",reason:"MAX_AMOUNT_OF_FILES_EXCEEDED"}):n&&i.length<n?Promise.reject({name:"FileAmountLimitError",reason:"MIN_AMOUNT_OF_FILES_NOT_REACHED"}):Promise.resolve()},n.validateAfterParsing=function(){return Promise.resolve()},r}(i),n=function(i){function r(e){var r;return(r=i.call(this)||this).fileSizeRestrictions=void 0,r.fileSizeRestrictions=e,r}e._inheritsLoose(r,i);var n=r.prototype;return n.validateBeforeParsing=function(){var i=e._asyncToGenerator(e._regeneratorRuntime().mark((function i(r,n){var o,s,a,u;return e._regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(o=this.fileSizeRestrictions).maxFileSize,(s=o.minFileSize)||a){e.next=3;break}return e.abrupt("return",Promise.resolve());case 3:return u=n.map((function(e){return t({minFileSize:s,maxFileSize:a,file:e})})).filter((function(e){return!!e})),e.abrupt("return",u.length>0?Promise.reject(u):Promise.resolve());case 5:case"end":return e.stop()}}),i,this)})));return function(e,r){return i.apply(this,arguments)}}(),n.validateAfterParsing=function(){var i=e._asyncToGenerator(e._regeneratorRuntime().mark((function i(r,n){return e._regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),i)})));return function(e,r){return i.apply(this,arguments)}}(),r}(i),t=function(e){var i=e.file,r=e.maxFileSize,n=e.minFileSize;return n&&i.size<n?{name:"FileSizeError",reason:"FILE_SIZE_TOO_SMALL",causedByFile:i}:r&&i.size>r?{name:"FileSizeError",reason:"FILE_SIZE_TOO_LARGE",causedByFile:i}:void 0},o=function(i){function r(e){var r;return(r=i.call(this)||this).imageSizeRestrictions=void 0,r.imageSizeRestrictions=e,r}e._inheritsLoose(r,i);var n=r.prototype;return n.validateBeforeParsing=function(){return Promise.resolve()},n.validateAfterParsing=function(e,i,r){return"DataURL"===e.readAs&&this.imageSizeRestrictions&&s(i.type)?a(i,r.result,this.imageSizeRestrictions):Promise.resolve()},r}(i),s=function(e){return e.startsWith("image")},a=function(e,i,r){return new Promise((function(n,t){var o=new Image,s={name:"ImageDimensionError",causedByFile:e,reasons:[]};o.onload=function(){var e=r.maxHeight,i=r.maxWidth,o=r.minHeight,a=r.minWidth,u=this.width,l=this.height;e&&e<l&&s.reasons.push("IMAGE_HEIGHT_TOO_BIG"),o&&o>l&&s.reasons.push("IMAGE_HEIGHT_TOO_SMALL"),i&&i<u&&s.reasons.push("IMAGE_WIDTH_TOO_BIG"),a&&a>u&&s.reasons.push("IMAGE_WIDTH_TOO_SMALL"),s.reasons.length?t(s):n()},o.onerror=function(){s.reasons.push("IMAGE_NOT_LOADED"),t(s)},o.src=i}))},u=function(i){function r(e){var r;return(r=i.call(this)||this).limitFilesConfig=void 0,r.previousPlainFiles=[],r.limitFilesConfig=e,r}e._inheritsLoose(r,i);var n=r.prototype;return n.onClear=function(){this.previousPlainFiles=[]},n.onFileRemoved=function(e,i){this.previousPlainFiles.splice(i,1)},n.validateBeforeParsing=function(e,i){var r=this.previousPlainFiles.length+i.length,n=this.limitFilesConfig,t=n.min,o=n.max;return o&&r>o?Promise.reject({name:"FileAmountLimitError",reason:"MAX_AMOUNT_OF_FILES_EXCEEDED"}):t&&r<t?Promise.reject({name:"FileAmountLimitError",reason:"MIN_AMOUNT_OF_FILES_NOT_REACHED"}):(this.previousPlainFiles=[].concat(this.previousPlainFiles,i),Promise.resolve())},n.validateAfterParsing=function(){return Promise.resolve()},r}(i),l=function(i){function r(e){var r;return(r=i.call(this)||this).acceptedFileExtensions=void 0,r.acceptedFileExtensions=e,r}e._inheritsLoose(r,i);var n=r.prototype;return n.validateBeforeParsing=function(e,i){var r=this,n=i.reduce((function(e,i){var n=i.name.split(".").pop();return n?r.acceptedFileExtensions.includes(n)?e:[].concat(e,[{name:"FileTypeError",reason:"FILE_TYPE_NOT_ACCEPTED",causedByFile:i}]):[].concat(e,[{name:"FileTypeError",reason:"FILE_EXTENSION_NOT_FOUND",causedByFile:i}])}),[]);return n.length>0?Promise.reject(n):Promise.resolve()},n.validateAfterParsing=function(e,i,r){return Promise.resolve()},r}(i);exports.FileAmountLimitValidator=r,exports.FileSizeValidator=n,exports.FileTypeValidator=l,exports.ImageDimensionsValidator=o,exports.PersistentFileAmountLimitValidator=u,exports.Validator=i;
//# sourceMappingURL=validators.cjs.production.min.js.map
